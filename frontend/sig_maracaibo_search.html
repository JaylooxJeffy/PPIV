<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIG - B√∫squeda de Zonas de Riesgo en Maracaibo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üó∫Ô∏è Sistema de Informaci√≥n Geogr√°fica</h1>
            <p>An√°lisis de Zonas de Riesgo Agr√≠cola y Ambiental - Maracaibo, Estado Zulia</p>
        </header>

        <div class="main-content">
            <div class="search-panel">
                <div class="search-section">
                    <h2>üîç B√∫squeda de Ubicaci√≥n</h2>
                    <div class="search-input-group">
                        <input 
                            type="text" 
                            id="locationSearch" 
                            class="search-input" 
                            placeholder="Ej: Barrio Hogar Santa Cruz..."
                        >
                        <button class="search-btn" onclick="searchLocation()">üîç</button>
                    </div>
                    <div id="suggestions" class="suggestions"></div>
                </div>

                <div class="risk-factors">
                    <h3>üö® Factores de Riesgo</h3>
                    <div class="checkbox-group">
                        <div class="checkbox-item" onclick="toggleCheckbox(this)">
                            <input type="checkbox" id="salinizado" value="salinizado">
                            <label for="salinizado">Suelo Salinizado</label>
                            <span class="risk-badge risk-high">ALTO</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this)">
                            <input type="checkbox" id="erosion" value="erosion">
                            <label for="erosion">Erosi√≥n del Suelo</label>
                            <span class="risk-badge risk-high">ALTO</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this)">
                            <input type="checkbox" id="inundacion" value="inundacion">
                            <label for="inundacion">Riesgo de Inundaci√≥n</label>
                            <span class="risk-badge risk-high">ALTO</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this)">
                            <input type="checkbox" id="aguasEstancadas" value="aguasEstancadas">
                            <label for="aguasEstancadas">Aguas Estancadas</label>
                            <span class="risk-badge risk-medium">MEDIO</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this)">
                            <input type="checkbox" id="aridez" value="aridez">
                            <label for="aridez">Aridez Clim√°tica</label>
                            <span class="risk-badge risk-medium">MEDIO</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this)">
                            <input type="checkbox" id="contaminacion" value="contaminacion">
                            <label for="contaminacion">Contaminaci√≥n Petrolera</label>
                            <span class="risk-badge risk-high">ALTO</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this)">
                            <input type="checkbox" id="bajafertilidad" value="bajafertilidad">
                            <label for="bajafertilidad">Baja Fertilidad</label>
                            <span class="risk-badge risk-medium">MEDIO</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this)">
                            <input type="checkbox" id="topografia" value="topografia">
                            <label for="topografia">Topograf√≠a Accidentada</label>
                            <span class="risk-badge risk-medium">MEDIO</span>
                        </div>
                        <div class="checkbox-item" onclick="toggleCheckbox(this)">
                            <input type="checkbox" id="quemas" value="quemas">
                            <label for="quemas">√Åreas Quemadas</label>
                            <span class="risk-badge risk-high">ALTO</span>
                        </div>
                    </div>
                </div>

                <button class="analyze-btn" onclick="analyzeRisks()" id="analyzeBtn" disabled>
                    üìä Analizar Zona de Riesgo
                </button>
            </div>

            <div class="map-container">
                <div id="map"></div>
                
                <div class="legend">
                    <h4>üìä Leyenda</h4>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #dc2626;"></div>
                        <span>Riesgo Alto</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #d97706;"></div>
                        <span>Riesgo Medio</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #059669;"></div>
                        <span>Riesgo Bajo</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #2563eb;"></div>
                        <span>Ubicaci√≥n</span>
                    </div>
                </div>

                <div id="resultsPanel" class="results-panel">
                    <h3>
                        üìã Resultados
                        <button class="close-btn" onclick="closeResults()">√ó</button>
                    </h3>
                    <div id="resultsContent"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>